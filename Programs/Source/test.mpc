a = sint(5)
b = sint(4)
c = sint(2)

# 方案1好太多
loop_num = 1000
bit_num = 16

# bit_num = 2
# prime是48bit  57s  425MB
# prime是64bit  62s  483MB

# bit_num = 16
# prime是48bit  57s  425MB
# prime是64bit  62s  483MB

# 9223372036855103489
# 编译长度几乎不变

# 方案1
# R_list = [0] * loop_num
# for i in range(loop_num):
#     for j in range(bit_num):
#         tmp = sint.get_random_bit()
#         R_list[i] += 2 ** j * tmp
#     r_list = sint.get_random_triple()
#     r3 = R_list[i] * r_list[0]



# 方案2    用for循环
# for i in range(loop_num):
#     r_list = sint.get_random_triple()
#     b_list = r_list[0].bit_decompose(bit_length = bit_num)


# test1_array = sint.Matrix(10,1)
# test2_array = sint.Matrix(10,1)
# @for_range(10)
# def _(i):
#     test1_array[i][0] = 3
#     test2_array[i][0] = 2
# print_ln("%s", test1_array[5][0].reveal())
# print_ln("%s", test2_array[5][0].reveal())
# test3_array = test1_array.schur(test1_array)
# print_ln("%s", test3_array[5][0].reveal())



# 64bit  2servers   总运行时间  总通信量

# 10000     3.17s   44.3MB          
# 100000    24.1s   299.5MB


# 48bit  2servers   总运行时间  总通信量
# 10000     2.13s   26.8MB        
# 100000    20.89s  255.9MB
# 1000000   202s    2491.2MB

# loop_num = 1000000
# @for_range(loop_num)
# def _(i):
#     sint.get_random_triple()



# 乘法本身就用到triple
# 64bit
# 10000    3.9s   44.6MB
# 100000   29.8s  302.7MB

# 48bit
# 10000    2.82s 27.13MB
# 100000   28.1s 259.1MB
# 100000   270.1s  2523.18MB

# loop_num = 1000000
# @for_range(loop_num)
# def _(i):
#     a*b



# 64bit
# 10000    1.801s   23.73MB
# 100000   14.3155S 210.081MB

# 48bit
# 10000    1.523s    25.59MB 
# 100000   12.59s    288.7MB
# 1000000  119.369s  1699.21MB

# loop_num = 1
# @for_range(loop_num)
# def _(i):
#     sint.get_random_square()



# 方案一 100K
# 1bit 16s  127MB
# 2bit 33s  250.354MB
# 4bit 65s  500.69MB
# 8bit
# 16bit




# 方案二 100K
# 1bit 12s 89MB
# 2bit 24s 172MB
# 4bit 47s 338.93MB
# 8bit
# 16bit


loop_num = 100000
@for_range(loop_num)
def _(i):
    sint.get_random_triple()
    # sint.get_random_square()
